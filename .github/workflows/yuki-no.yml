name: yuki-no

permissions:
  # Read external repo changes
  contents: read
  # Create and update issues for tracked changes
  issues: write
  # Get last workflow run info
  actions: read

on:
  schedule:
    - cron: "*/5 * * * *" # "0 * * * *" # Every hour
  workflow_dispatch: # Manual trigger

jobs:
  yuki-no:
    runs-on: ubuntu-latest
    steps:
      - uses: Gumball12/yuki-no@v1
        with:
          # GitHub token for authentication
          access-token: ${{ secrets.GITHUB_TOKEN }}

          # Upstream repository configuration
          head-repo: https://github.com/vitejs/docs-de.git

          # REQUIRED: Set this to a recent commit hash from vitejs/vite
          # Yuki-no will only track commits after this hash.
          # Using an old commit hash will cause the initial action run to be very slow
          # as it processes each historical commit.
          # (Subsequent runs are faster as they skip previously processed commits.)
          track-from: 8099582e5364f907f2bc6cb8e2d52ae0c4d937e4 # Replace with a recent commit hash from vitejs/vite

          # Files to track (Glob patterns)
          include: |
            docs/**

          # Enable release tracking
          # When enabled, Yuki-no will track releases for each issue
          # and add comments about release status.
          release-tracking: true
